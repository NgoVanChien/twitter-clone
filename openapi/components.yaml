components:
  schemas:
    LoginBody:
      type: object
      properties:
        email:
          type: string
          example: chienngo03568@gmail.com
        password:
          type: string
          example: Otis0/
    SuccessAuthentication:
      type: object
      properties:
        access_token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjUwY2ZiZjhkOWM2YjE5ODk2OWRkMDM3IiwidHlwZSI6MCwidmVyaWZ5IjoxLCJpYXQiOjE2OTU4NjY1OTUsImV4cCI6MTY5NTk1Mjk5NX0.Ms9hMxU80GSgvSlR0J1c5SFTP05IAn8hFxbA3r4fV8o
        refresh_token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjUwY2ZiZjhkOWM2YjE5ODk2OWRkMDM3IiwidHlwZSI6MSwidmVyaWZ5IjoxLCJpYXQiOjE2OTU4NjY1OTUsImV4cCI6MTcwNDUwNjU5NX0.SKcyZ3Wjd5u5CiKbJgbDl5oU__X4_JS9RfVfUvmFHw8
    User:
      type: object
      properties:
        _id:
          type: string
          format: MongoId
          example: 64be0ad2e43d2464394feedb
        name:
          type: string
          example: John Doe
        email:
          type: string
          example: johndoe@example.com
        date_of_birth:
          type: string
          format: ISO8601
          example: 2023-06-08T10:17:31.096Z
        created_at:
          type: string
          format: ISO8601
          example: 2023-03-08T12:00:00Z
        updated_at:
          type: string
          format: ISO8601
          example: 2023-03-08T12:00:00Z
        verify:
          $ref: '#/components/schemas/UserVerifyStatus'
        twitter_circle:
          type: array
          items:
            type: string
            format: MongoId
          example: ['64be0ad2e43d2464394feedb', '64be0ad2e43d2464394feedc']
        bio:
          type: string
          example: 'This is my bio.'
        location:
          type: string
          example: 'San Francisco, CA'
        website:
          type: string
          example: 'www.example.com'
        username:
          type: string
          example: 'johndoe'
        avatar:
          type: string
          example: 'http:localhost:4000/images/avatars/johndoe.jpg'
        cover_photo:
          type: string
          example: 'http:localhost:4000/images/avatars/johndoe.jpg'
    UserVerifyStatus:
      type: number
      enum: [Unverified, Verified, Banned]
      example: 1
    RegisterBody:
      type: object
      properties:
        name:
          type: string
          example: Ngo Van Chien
        email:
          type: string
          example: chienngo03568@gmail.com
        password:
          type: string
          example: Otis0/
        confirm_password:
          type: string
          example: Otis0/
        date_of_birth:
          type: string
          format: ISO8601
          example: 2023-06-08T10:17:31.096Z
    UpdateMeBody:
      type: object
      properties:
        name:
          type: string
          example: John Doe
        date_of_birth:
          type: string
          format: ISO8601
          example: 2023-06-08T10:17:31.096Z
        bio:
          type: string
          example: 'This is my bio.'
        location:
          type: string
          example: 'San Francisco, CA'
        website:
          type: string
          example: 'www.example.com'
        username:
          type: string
          example: 'johndoe'
        avatar:
          type: string
          example: 'http:localhost:4000/images/avatars/johndoe.jpg'
        cover_photo:
          type: string
          example: 'http:localhost:4000/images/avatars/johndoe.jpg'
    TweetRequestBody:
      type: object
      properties:
        type:
          $ref: '#/components/schemas/TweetType'
        audience:
          $ref: '#/components/schemas/TweetAudience'
        content:
          type: string
          description: Nội dung tweet
          example: 'This is my tweet.'
        parent_id:
          type: string
          nullable: true
          description: ID của tweet cha
          example:
        hashtags:
          type: array
          items:
            type: string
          description: Danh sách hashtag
          example: ['hashtag1', 'hashtag2']
        mentions:
          type: array
          items:
            type: string
          description: Danh sách user_id được đề cập
          example: ['65366ad3d83f63020a8d36b1', '65366ad3d83f63020a8d36b2']
        medias:
          type: array
          items:
            $ref: '#/components/schemas/Media'
          description: Danh sách media đính kèm
    TweetType:
      type: number
      enum: [Tweet, Retweet, Comment, QuoteTweet]
      example: 1
    TweetAudience:
      type: number
      enum: [Everyone, TwitterCircle]
      example: 1
    PeopleFollow:
      type: string
      enum: [Anyone, Following]
      example: '0'
    EncodingStatus:
      type: number
      enum: [Pending, Processing, Success, Failed]
      example: 1
    MediaTypeQuery:
      type: string
      enum: [Image, Video]
      example: image
    MediaType:
      type: number
      enum: [Image, Video, HLS]
      example: 1
    Media:
      type: object
      properties:
        url:
          type: string
          example: 'http://localhost:4000/images/avatars/johndoe.jpg'
        type:
          $ref: '#/components/schemas/MediaType'
    Tweet:
      type: object
      properties:
        _id:
          type: string
          format: MongoId
          description: ID của tweet
          example: 6532b377902d4927349a06bf
        user_id:
          type: string
          format: MongoId
          description: ID của người dùng tạo tweet
          example: 6532b377902d4927349a06ba
        type:
          $ref: '#/components/schemas/TweetType'
        audience:
          $ref: '#/components/schemas/TweetAudience'
        content:
          type: string
          description: Nội dung tweet
          example: 'This is my tweet.'
        parent_id:
          type: string
          nullable: true
          format: MongoId
          description: ID của tweet cha
          example: 6532b377902d4927349a06bf
        hashtags:
          type: array
          items:
            type: object
            properties:
              _id:
                type: string
                format: MongoId
                description: ID của hashtag
                example: 6532b377902d4927349a06bq
              name:
                type: string
                description: Tên của hashtag
                example: 'hashtag1'
              created_at:
                type: string
                format: ISO8601
                description: Thời gian tạo hashtag
                example: 2023-03-08T12:00:00Z
          description: Danh sách hashtag
          example:
            [
              { _id: '6532b377902d4927349a06bw', name: 'hashtag1', created_at: '2023-03-08T12:00:00Z' },
              { _id: '64be0ad2e43d2464394feedc', name: 'hashtag2', created_at: '2023-03-08T12:00:00Z' }
            ]
        mentions:
          type: array
          items:
            type: object
            properties:
              _id:
                type: string
                format: MongoId
                description: ID của user được đề cập
                example: 6532b377902d4927349a06bb
              name:
                type: string
                description: Tên của user được đề cập
                example: 'John Doe'
              username:
                type: string
                description: Username của user được đề cập
                example: 'johndoe'
              email:
                type: string
                description: Email của user được đề cập
                example: jowey@gmail.com
        medias:
          type: array
          items:
            $ref: '#/components/schemas/Media'
          description: Danh sách media đính kèm
          example:
            [
              { url: 'http://localhost:4000/images/avatars/johndoe.jpg', type: 1 },
              { url: 'http://localhost:4000/images/avatars/johndoe.jpg', type: 2 }
            ]
        retweet_count:
          type: integer
          description: Số lần retweet
        comment_count:
          type: integer
          description: Số lần comment
        quote_count:
          type: integer
          description: Số lần quote
        bookmarks:
          type: integer
          description: Số lần bookmark
        likes:
          type: integer
          description: Số lần like
        guest_views:
          type: integer
          description: Số lần xem của khách
        user_views:
          type: integer
          description: Số lần xem của người dùng
        created_at:
          type: string
          format: ISO8601
          example: 2023-10-23T12:45:13.752+00:00
          description: Thời gian tạo tweet
        updated_at:
          type: string
          format: ISO8601
          example: 2023-10-23T12:45:13.752+00:00
          description: Thời gian cập nhật tweet
    BookmarkBody:
      type: object
      required:
        - tweet_id
      properties:
        tweet_id:
          type: string
          format: MongoId
          example: '65366ad9d83f63020a8d3c28'
    Bookmark:
      type: object
      required:
        - _id
        - tweet_id
        - user_id
        - created_at
      properties:
        _id:
          type: string
          format: MongoId
          example: '654cebd86789797cded0ee97'
        tweet_id:
          type: string
          format: MongoId
          example: '65366ad9d83f63020a8d3c28'
        user_id:
          type: string
          format: MongoId
          example: '653934bc3eda6a2b4cb4e4fe'
        created_at:
          type: string
          format: ISO8601
          example: 2023-11-09T14:25:28.281+00:00
    LikeBody:
      type: object
      required:
        - tweet_id
      properties:
        tweet_id:
          type: string
          format: MongoId
          example: '65366adad83f63020a8d3c2f'
    Like:
      type: object
      required:
        - _id
        - tweet_id
        - user_id
        - created_at
      properties:
        _id:
          type: string
          format: MongoId
          example: '654ced9d6789797cded0ee9b'
        tweet_id:
          type: string
          format: MongoId
          example: '65366adad83f63020a8d3c2f'
        user_id:
          type: string
          format: MongoId
          example: '653934bc3eda6a2b4cb4e4fe'
        created_at:
          type: string
          format: ISO8601
          example: 2023-11-09T14:33:01.867+00:00
    AdvancedSearch:
      type: object
      properties:
        _id:
          type: string
          description: ID của tweet
          example: 65366ad9d83f63020a8d3c24
        user_id:
          type: string
          description: ID của user đăng tweet
          example: 65366ad3d83f63020a8d36ac
        type:
          type: integer
          description: Loại tweet
          example: 0
        audience:
          type: integer
          description: Phạm vi tweet
          example: 0
        content:
          type: string
          description: Nội dung tweet
          example: super
        parent_id:
          type: string
          description: ID của tweet cha
          example: null
        hashtags:
          type: array
          items:
            type: object
            properties:
              _id:
                type: string
                format: MongoId
                description: ID của hashtag
                example: 653643a63753b6b242c99672
              name:
                type: string
                description: Tên của hashtag
                example: nodejs
              created_at:
                type: string
                format: ISO8601
                description: Thời gian tạo hashtag
                example: 2023-10-23T12:45:13.752+00:00
          description: Danh sách hashtag
          example:
            [
              { _id: '653007973def0ef18da5fed5', name: 'nodejs', created_at: '2023-10-18T16:28:07.455+00:00' },
              { _id: '653007973def0ef18da5fed6', name: 'nextjs', created_at: '2023-10-18T16:28:07.455+00:00' }
            ]
        mentions:
          type: array
          items:
            type: string
            example: 650dc4bc72d85eb890266310
        medias:
          type: array
          items:
            $ref: '#/components/schemas/Media'
        guest_views:
          type: integer
        user_views:
          type: integer
        created_at:
          type: string
          format: ISO8601
          example: 2023-10-23T12:45:13.752+00:00
        updated_at:
          type: string
          format: ISO8601
          example: 2023-10-23T12:45:13.752+00:00
        user:
          $ref: '#/components/schemas/User'
        bookmarks:
          type: integer
        likes:
          type: integer
        retweet_count:
          type: integer
        comment_count:
          type: integer
        quote_count:
          type: integer
    Conversation:
      type: object
      required:
        - _id
        - sender_id
        - receiver_id
        - content
      properties:
        _id:
          type: string
          format: MongoId
          example: 653fb47d2caaf7badb73d566
        sender_id:
          type: string
          format: MongoId
          example: 653935473eda6a2b4cb4e501
        receiver_id:
          type: string
          format: MongoId
          example: 6539445d86796064b9ce7289
        content:
          type: string
          example: 'chat 1'
        created_at:
          type: string
          format: ISO8601
          example: 2023-09-22T02:29:12.552Z
        updated_at:
          type: string
          format: ISO8601
          example: 2023-09-22T02:29:12.552Z
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
